<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="css/adduser.css">
    <link rel="stylesheet" href="css/engrnco.css">
    <link rel="stylesheet" href="css/notification.css">
    <link rel="stylesheet" href="css/piechart.css">
    <link rel="stylesheet" href="css/mt_dashboard.css">
    <link rel="stylesheet" href="css/loading.css">
    <script src ="https://unpkg.com/lucide@latest" ></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel='icon' href='static/logo_small.png' type='image/x-icon' />
    <title>Inventory</title>
</head>
<body>
    <div id="notification-toast" class="notification-toast"></div>
    <!-- Loading Overlay -->
    <!-- <div id="loadingOverlay" class="loading-overlay">
        <div class="spinner"></div>
        <div class="loading-text">Loading Inventory Data</div>
        <div class="loading-subtext">Please wait...</div>
    </div> -->
        <nav id="notforclo">
        <ul>
            <li><a href="#" onclick="window.location.href='mt_dashboard.html?key=viewtr'" id= "viewTrBtn" class="active">View Transport State</a></li>
            <li><a href="#" onclick="window.location.href='./mt/officer_dashboard.html'">View Inventory</a></li>
            <li><a href="addvehicle.html">Add Vehicle</a></li>
            <li id="notformtjco"><a href="user_management.html">User Management</a></li>

            <li ><a href="#" onclick="popupmenu()"> User â–¼ </a> </li>
        </ul>
    </nav>
    <nav id="forclo">
        <ul>
            <li><a href="clodashboard.html" >Home</a></li>
            <li><a href="user_management.html">User Management</a></li>
            <li><a href="notifications.html">Notifications</a></li>
            <li ><a href="#" onclick="popupmenu()"> User Info </a> </li>
        </ul>
    </nav>

    <div class="topdown-container" id="userInfoContainer" style="display: none;">
        <h3 id ="username"></h3>
        <h4 id ="rank"></h4>
        <h4 id ="banumber"></h4>
        <button class="btn primary" id="changePasswordBtn" onclick="passwordChangeModal()">Change Password</button>
        <button class="btn secondary" id="logoutButton" onclick="logout()">Logout</button>        
    </div>
    <div class="options">
   <div class="option active">
      <div class="label">
         <div class="icon">
         </div>
         <div class="info">
            <div class="main">Blonkisoaz</div>
            <div class="sub">Omuke trughte a otufta</div>
         </div>
      </div>
   </div>
   <div class="option">
        
      <div class="label">
         <div class="icon">
            
         </div>
         <div class="info">
            <div class="main">Oretemauw</div>
            <div class="sub">Omuke trughte a otufta</div>
         </div>
      </div>
   </div>
   <div class="option" >
        
      <div class="label">
         <div class="icon">
            <i class="fas fa-tree"></i>
         </div>
         <div class="info">
            <div class="main">Iteresuselle</div>
            <div class="sub">Omuke trughte a otufta</div>
         </div>
      </div>
   </div>
   <div class="option">
        
      <div class="label">
         <div class="icon">
            <i class="fas fa-tint"></i>
         </div>
         <div class="info">
            <div class="main">Idiefe</div>
            <div class="sub">Omuke trughte a otufta</div>
         </div>
      </div>
   </div>
   <div class="option">
        
      <div class="label">
         <div class="icon">
            class A
         </div>
         <div class="info">
            
                <h4 id="totalVehiclesclassA">Total Vehicles:</h4>
                <h4 id="ALRVehiclesclassA">ALR</h4>

                <h4 id="ASRVehiclesclassA">ASR</h4>

                <h4 id="inMaintenanceVehiclesclassA">In MainTenance</h4>

                <h4 id="groundedVehiclesclassA">Grounded</h4>
         </div>
      </div>
   </div>
</div>
    <h2>Vehicle Overview Classes Wise</h2>
    <div class="dashboard-card">
        <div class="card nohover" >
                <h4>Class A</h4>
            <div class="card-info mt">
                <h4 id="totalVehiclesclassA">0</h4>
                <h4 id="ALRVehiclesclassA">0</h4>
                <h4 id="ASRVehiclesclassA">0</h4>
                <h4 id="inMaintenanceVehiclesclassA">0</h4>
                <h4 id="groundedVehiclesclassA">0</h4>
            </div>
        </div>
        <div class="card nohover" >
                <h4>Class B</h4>
            <div class="card-info mt">
                <h4 id="totalVehiclesclassB">0</h4>
                <h4 id="ALRVehiclesclassB">0</h4>
                <h4 id="ASRVehiclesclassB">0</h4>
                <h4 id="inMaintenanceVehiclesclassB">0</h4>
                <h4 id="groundedVehiclesclassB">0</h4>
            </div>
        </div>
        <div class="card nohover">
                <h4>Spl Veh</h4>
            <div class="card-info mt">
                <h4 id="totalVehiclesspl">0</h4>
                <h4 id="ALRVehiclesspl">0</h4>
                <h4 id="ASRVehiclesspl">0</h4>
                <h4 id="inMaintenanceVehiclesspl">0</h4>
                <h4 id="groundedVehiclesspl">0</h4>
            </div>
        </div>
        <div class="card nohover">
            <h4>Sp Veh</h4>
            <div class="card-info mt">
                <h4 id="totalVehiclessp">0</h4>
                <h4 id="ALRVehiclessp">0</h4>
                <h4 id="ASRVehiclessp">0</h4>
                <h4 id="inMaintenanceVehiclessp">0</h4>
                <h4 id="groundedVehiclessp">0</h4>
            </div>
        </div>
        
        <div class="card nohover">
            <h4>Water Trailer</h4>
            <div class="card-info mt">
                <h4 id="totalVehicleswatertrailer">0</h4>
                <h4 id="ALRVehicleswatertrailer">0</h4>
                <h4 id="ASRVehicleswatertrailer">0</h4>
                <h4 id="inMaintenanceVehicleswatertrailer">0</h4>
                <h4 id="groundedVehicleswatertrailer">0</h4>
            </div>
        </div>
        <div class="card nohover">
            <h4>Low Bed/ Fuel/ Water/ Trailer</h4>
            <div class="card-info mt">
                <h4 id="totalVehicleslowbed">0</h4>
                <h4 id="ALRVehicleslowbed">0</h4>
                <h4 id="ASRVehicleslowbed">0</h4>
                <h4 id="inMaintenanceVehicleslowbed">0</h4>
                <h4 id="groundedVehicleslowbed">0</h4>
            </div>
        </div>
    </div>

    <div id="changePasswordModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Change Password</h2>
                <button class="modal-close" onclick="closeModal()"  aria-label="Close">&times;</button>
            </div>
                <div class="modal-grid">
                    <div class="form-group pass">
                        <label for="password" class="form-label"> Current Password *</label>
                        <input type="password" id="password" class="form-input" placeholder="Enter password" >
                        <button type="button" class="password-toggle" onclick="togglePassword('password')">
                            <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </button>
                    </div>
                    <div class="form-group pass">
                        <label for="new-password" class="form-label">New Password *</label>
                        <input type="password" id="new-password" class="form-input" placeholder="Enter password" >
                        <button type="button" class="password-toggle" onclick="togglePassword('new-password')">
                            <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </button>
                    </div>

                    <div class="form-group pass">
                        <label for="confirm-password" class="form-label">Confirm Password *</label>
                        <input type="password" id="confirm-password" class="form-input" placeholder="Confirm password">
                        <button type="button" class="password-toggle" onclick="togglePassword('confirm-password')">
                            <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </button>
                    </div>
                
                
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn secondary" onclick="closeModal()">Cancel</button>
                    <button id="passwordChangeSubmitBtn" class="btn primary">Change Password</button>
                </div>
        </div>
    </div>

    <script>
        lucide.createIcons();
        function hideNotification() {
            const toast = document.getElementById("notification-toast");
            toast.classList.remove("show");
        }
        function popupmenu() {
            const userInfoContainer = document.getElementById('userInfoContainer');
            if (userInfoContainer.style.display === 'none' || userInfoContainer.style.display === '') {
                userInfoContainer.style.display = 'flex';
            } else {
                userInfoContainer.style.display = 'none';
            }
        }
        function togglePassword(inputId) {
            const passwordInput = document.getElementById(inputId);
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
        }

        function closeModal() {
            const changePasswordModal = document.getElementById('changePasswordModal'); 
            changePasswordModal.classList.add('hidden');
        }
        function passwordChangeModal() {
            const changePasswordModal = document.getElementById('changePasswordModal');
            changePasswordModal.classList.remove('hidden');
            const userInfoContainer = document.getElementById('userInfoContainer');
            userInfoContainer.style.display = 'none';
            console.log('Password Change Modal Opened');
        }

        window.addEventListener('DOMContentLoaded', () => {
                const urlParams = new URLSearchParams(window.location.search);
                const key = urlParams.get('key');
                const role=sessionStorage.getItem('role');
                if(role==='clo' || role === 'cc'){
                    document.getElementById('notforclo').style.display='none';
                    document.getElementById('forclo').style.display='block';
                } else {
                    document.getElementById('forclo').style.display='none';
                    document.getElementById('notforclo').style.display='block';
                }
                if(role==='mtjco' || role==='mtnco'){
                    document.getElementById('notformtjco').style.display='none';
                }
                $(".option").hover(function(){
   $(".option").removeClass("active");
   $(this).addClass("active");
   
});

        });
    </script>


    

</body> 

</html>